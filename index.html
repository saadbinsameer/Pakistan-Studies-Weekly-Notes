<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SS1015 PAKISTAN STUDIES Notes</title>
    
    <!-- FAVICON LINK ADDED HERE -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23047857'/><polygon points='50,15 61,39 88,39 66,56 74,80 50,65 26,80 34,56 12,39 39,39' fill='white'/></svg>">
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Apply Inter font family */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        
        /* --- LIGHT MODE STYLES (Default) --- */
        body {
            background: linear-gradient(to bottom right, #f0fdf4, #ccfbf1, #d9f99d); /* Subtle green/teal gradient */
        }
        #notes-view > div { 
            background-color: #fff;
            border: 1px solid #a7f3d0; /* emerald-300 */
        }
        #notes-content-area, 
        #notes-content-area * { 
            color: #374151 !important; /* gray-700 */
        }
        #notes-content-area h3 { 
            color: #047857 !important; /* emerald-700 */
        }
        #notes-title { 
            color: #065f46; /* emerald-800 */
            border-bottom: 2px solid #a7f3d0; /* emerald-200 */
        }
        /* Light mode text color for the quote */
        .quote-glow-text {
            color: #4b5563; /* gray-700 */
            transition: color 0.3s, text-shadow 0.3s;
        }
        #notes-content-area::-webkit-scrollbar-thumb {
            background-color: #047857; /* Emerald-700 */
        }
        #notes-content-area::-webkit-scrollbar-track {
            background-color: #d1fae5; /* Emerald-100 */
        }
        #search-input {
            background-color: #ecfdf5; /* emerald-50 */
            border-color: #a7f3d0;
        }

        /* --- DARK MODE STYLES --- */
        body.dark-mode {
            background: #111827; /* gray-900 */
        }
        
        /* Custom glow effect for the main title in dark mode */
        body.dark-mode header h1 {
            color: #a7f3d0; /* Very light emerald color for the text itself */
            text-shadow: 
                0 0 5px #10b981, /* emerald-500 */
                0 0 15px #059669, /* emerald-600 */
                0 0 25px #047857; /* emerald-700 */
            transition: all 0.5s ease-in-out;
        }
        
        body.dark-mode #notes-view > div { 
            background-color: #1f2937; /* gray-800 */
            border: 1px solid #374151; /* gray-700 */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5);
        }
        body.dark-mode, 
        body.dark-mode #notes-content-area, 
        body.dark-mode #notes-content-area * { 
            color: #d1d5db !important; /* gray-300 */
        }
        body.dark-mode #notes-content-area h3 { 
            color: #10b981 !important; /* emerald-400 */
        }
        body.dark-mode #notes-title { 
            color: #6ee7b7; /* emerald-300 */
            border-bottom: 2px solid #10b981; /* emerald-500 */
        }

        /* Custom glow effect for the footer quote in dark mode */
        body.dark-mode .quote-glow-text {
            /* Subtle white/light blue glow for better contrast and a luminous effect */
            text-shadow: 
                0 0 4px rgba(255, 255, 255, 0.5), 
                0 0 8px rgba(173, 216, 230, 0.4);
            /* Ensure the text color itself is light enough to support the glow */
            color: #E5E7EB !important; /* Light gray to override other gray styles */
        }

        body.dark-mode #notes-content-area::-webkit-scrollbar-thumb {
            background-color: #10b981; /* Emerald-500 */
        }
        body.dark-mode #notes-content-area::-webkit-scrollbar-track {
            background-color: #374151; /* Gray-700 */
        }
        body.dark-mode #search-input {
            background-color: #374151; /* gray-700 */
            color: #f3f4f6;
            border-color: #4b5563;
        }
        body.dark-mode #search-input::placeholder {
            color: #9ca3af;
        }


        /* --- COMMON STYLES --- */
        /* Card Styling */
        #notes-view > div { 
            border-radius: 12px;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            padding: 2.5rem; 
        }

        /* Constant Glow/Shadow Effect CSS for Week Buttons */
        .cool-glow-button {
            transition: all 0.3s ease-out;
            box-shadow: 
                0 4px 15px rgba(0, 0, 0, 0.15), 
                0 0 10px rgba(52, 211, 169, 0.6); 
            position: relative;
        }
        .cool-glow-button:hover {
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.2), 
                0 0 25px rgba(5, 150, 105, 0.8), 
                0 0 40px rgba(5, 150, 105, 0.5); 
            transform: scale(1.02); 
        }
        .cool-glow-button:active {
            transform: scale(1.0); 
            box-shadow: 
                0 2px 10px rgba(0, 0, 0, 0.1),
                0 0 5px rgba(52, 211, 169, 0.4);
        }
    </style>
</head>

<body class="min-h-screen flex flex-col items-center p-4 md:p-8">

    <!-- Title Section -->
    <header class="w-full max-w-5xl py-8 mb-4 flex justify-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight text-emerald-900 
                   text-center 
                   drop-shadow-md transition-colors duration-300">
            SS1015 PAKISTAN STUDIES
        </h1>
    </header>

    <!-- MAIN CONTENT CONTAINER -->
    <main class="w-full max-w-5xl p-4 flex-grow">

        <!-- 1. HOME VIEW (Buttons Grid) -->
        <div id="home-view" class="transition-all duration-400 ease-out opacity-100 scale-100">

            <!-- Search Bar & Toggle Container -->
            <div class="mb-8 flex items-center space-x-3">
                
                <!-- Search Bar -->
                <div class="relative flex-grow">
                    <input 
                        type="text" 
                        id="search-input" 
                        oninput="handleSearch()"
                        placeholder="This is just a gimmick..."
                        class="w-full p-4 pl-12 border-2 rounded-xl text-lg transition-colors duration-300 focus:ring-emerald-500 focus:border-emerald-500 shadow-md outline-none"
                    >
                    <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>

                <!-- Dark Mode Toggle Button (Circular) -->
                <button id="dark-mode-toggle" 
                        onclick="toggleDarkMode()" 
                        aria-label="Toggle Dark Mode"
                        class="p-4 rounded-full bg-emerald-600 text-white shadow-lg hover:bg-emerald-700 transition duration-300 flex-shrink-0"
                        title="Toggle Dark Mode"
                >
                    <!-- Sun Icon (Light Mode) - Initial state shows sun -->
                    <svg id="sun-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                    <!-- Moon Icon (Dark Mode) - Hidden initially -->
                    <svg id="moon-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                </button>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="week-buttons-container">
                <!-- Buttons will be generated here by JavaScript -->
            </div>
            
            <p id="no-results-message" class="text-center text-xl text-gray-500 mt-10 hidden">
                No notes found matching your search term.
            </p>
        </div>

        <!-- 2. NOTES VIEW (Content Display Area) -->
        <div id="notes-view" 
            class="hidden 
                   transition-all duration-400 ease-out 
                   opacity-0 
                   transform scale-[0.9] translate-y-4"
        >
            <!-- This div is the card -->
            <div class="rounded-xl shadow-2xl p-6 md:p-10 transition-colors duration-300">
                
                <!-- Notes Title -->
                <h2 id="notes-title" class="text-3xl md:text-4xl font-bold mb-6 border-b pb-2 transition-colors duration-300"></h2>
                
                <!-- Notes Content Area -->
                <div id="notes-content-area" class="space-y-4 prose max-w-none h-96 overflow-y-auto pr-4">
                    <!-- Content will be injected here -->
                </div>

                <!-- Back Button - Simple, sleek, pill shape -->
                <button 
                    onclick="showHome()"
                    id="back-button"
                    class="mt-6 px-8 py-3 bg-emerald-800 text-white font-bold rounded-full 
                           shadow-xl hover:shadow-2xl hover:bg-emerald-700 
                           transition duration-300 ease-in-out 
                           flex items-center justify-center 
                           w-full md:w-64 mx-auto"
                >
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    <span class="tracking-wider">Back</span>
                </button>
            </div>
        </div>
        
    </main>

    <!-- Custom Message Box -->
    <div id="message-box" class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-4 bg-emerald-700 text-white rounded-xl shadow-2xl transition-opacity duration-300 z-50 max-w-xs text-center font-bold text-lg">
        <span id="message-text"></span>
    </div>

    <!-- Footer Text (UPDATED: Removed conflicting text class from the span around 'Quaid') -->
    <footer class="mt-12 py-4 w-full max-w-5xl border-t border-emerald-300/50 flex justify-center items-center px-4 md:px-0">
        <p class="text-sm italic text-center quote-glow-text" id="footer-text">
            "With faith, discipline and selfless devotion to duty, there is nothing worthwhile that you cannot achieve." 
            <!-- The text-gray-800/80 class has been REMOVED from the span below -->
            <span class="block not-italic mt-1 font-medium"> - Quaid</span>
        </p>
    </footer>
    
    <script>
        // Global variable to store notes data (now embedded directly)
        const weeklyNotes = {
            "1": { 
                "title": "Week 1: The Indus Valley Civilization", 
                "content": `
                    <h3 class="text-xl md:text-2xl font-semibold mt-4 mb-2 text-emerald-700">The Indus Valley Civilization (IVC)</h3>
                    <p class="mb-4">The IVC, or Harappan Civilization (c. 3300–1300 BCE), was South Asia's earliest urban culture, centered on the Indus River system in modern Pakistan.</p>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🗺️ Geography and Urban Centers</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Extent:</strong> Stretched from Baluchistan to Gujarat, relying on the Indus River and its tributaries.</li>
                        <li><strong>Harappa (Punjab):</strong> Critical northern urban center.</li>
                        <li><strong>Mohenjo-Daro (Sindh):</strong> Largest and best-preserved city, famed for its advanced municipal structures like the Great Bath.</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🏗️ Civic Life and Urban Planning</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Architecture:</strong> Cities used a meticulous <strong>Grid System</strong> and universally sized fired bricks.</li>
                        <li><strong>Dual Structure:</strong> Major cities featured a <strong>Citadel</strong> (administration/ritual) and a <strong>Lower Town</strong> (residential).</li>
                        <li><strong>Public Health:</strong> Possessed the world's earliest known advanced urban sanitation systems, including covered drains beneath the streets and private wells/toilets in most houses.</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">💼 Economy and Society</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Economic Base:</strong> Primarily agriculture (wheat and barley) and <strong>Craft Specialization</strong> (bead-making, bronze casting, seal carving).</li>
                        <li><strong>Trade:</strong> Used standardized steatite seals, weights, and measures. Maintained <strong>Long-Distance Trade</strong> with Mesopotamia and Iran.</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">📉 Theories of Decline (c. 1900–1300 BCE)</h3>
                    <p>The collapse was prolonged and attributed to a combination of factors:</p>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Environmental:</strong> Climate Variability and Drought (weakening of the monsoon) and Hydrological Shifts (tectonic changes to river courses).</li>
                        <li><strong>Infrastructure Strain:</strong> Repeated, major floods required perpetual maintenance, leading to economic drain and de-urbanization.</li>
                    </ul>
                `
            },
            "2": { 
                "title": "Week 2: Pakistani Culture and Society", 
                "content": `
                    <h3 class="text-xl md:text-2xl font-semibold mt-4 mb-2 text-emerald-700">🌍 Understanding Culture</h3>
                    <ul class="list-disc list-inside space-y-1 ml-4">
                        <li><strong>Definition:</strong> The learned, shared, and symbolic way of life of a people.</li>
                        <li><strong>Types:</strong>
                            <ul class="list-circle list-inside ml-6 space-y-1">
                                <li>Material culture: Tangible elements (tools, architecture).</li>
                                <li>Non-material culture: Intangible aspects (beliefs, values, customs).</li>
                            </ul>
                        </li>
                        <li><strong>Norms:</strong> Folkways (everyday customs) and Mores (stronger norms tied to morality).</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🏞️ Layers of Pakistani Culture</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Influences:</strong> Indus Valley roots &rarr; Islamic era (8th century) &rarr; Mughal synthesis &rarr; British colonial changes.</li>
                        <li><strong>Cultural Blend:</strong> Indigenous traditions + Islamic framework + Persian/Central Asian + colonial legacies.</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🏘️ Layers of Pakistani Culture</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Social Structure:</strong> Strong extended family networks; dominant role of religion; regional diversity unified by national identity.</li>
                        <li><strong>Change:</strong> Urbanization and modern education are transforming traditional patterns.</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🗣️ Linguistic Heritage</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>National Language:</strong> Urdu (lingua franca, rooted in Persian, Arabic, and local dialects).</li>
                        <li><strong>Regional Languages:</strong> Punjabi, Sindhi, Pashto, Balochi, Saraiki, Hindko (preserve local identity).</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🎉 Traditions and Customs</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Rituals:</strong> Life-cycle rituals (birth, marriage, death), Islamic festivals (Eid), and regional festivals.</li>
                        <li><strong>Dress:</strong> Shalwar kameez (national dress).</li>
                        <li><strong>Core Values:</strong> Hospitality, communal meals, and ritual observances.</li>
                    </ul>
                `
            },
            "3": { 
                "title": "Week 3: The Process of Constitution Making (1947–1954)", 
                "content": `
                    <h3 class="text-xl md:text-2xl font-semibold mt-4 mb-2 text-emerald-700">📜 Governing Framework After Independence</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Interim Constitution:</strong> The <strong>Government of India Act, 1935</strong> (adapted).</li>
                        <li><strong>Constituent Assembly:</strong> Served a dual role: framing the constitution and acting as the central legislature.</li>
                        <li><strong>Leaders:</strong> <strong>Muhammad Ali Jinnah</strong> (first Governor-General, 1947–1948) and <strong>Liaquat Ali Khan</strong> (first Prime Minister, 1947–1951).</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🚨 Early Challenges (1947–1954)</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Refugee Crisis:</strong> Massive migration (8–10 million) created acute shortages.</li>
                        <li><strong>Administrative Weakness:</strong> Lack of trained bureaucrats and infrastructure.</li>
                        <li><strong>Financial Problems:</strong> Delayed division of assets with India (Rs. 750 million share withheld).</li>
                        <li><strong>Territorial & Security:</strong> Conflict in Kashmir (Oct 1947).</li>
                        <li><strong>Political Instability:</strong> 7 Prime Ministers and 4 Governor Generals between 1947 and 1956.</li>
                        <li><strong>Language Movement (1952):</strong> Tensions over Urdu being the sole national language; protests in Dhaka (21 Feb 1952) became a turning point in East Pakistan’s consciousness.</li>
                        <li><strong>Anti-Ahmadiya Riots (1953):</strong> Led to the brief imposition of <strong>Martial Law in Lahore</strong> (first use of military in politics).</li>
                        <li><strong>Dissolution of First Constituent Assembly (24 October 1954):</strong> Governor-General Ghulam Mohammad dissolved the assembly. The Federal Court upheld the action(<strong>Doctrine of Necessity</strong>), setting a precedent for validating extra-constitutional steps.</li>
                    </ul>
                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🔑 Key Events in Constitution-Making</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Objectives Resolution (12 March 1949):</strong> Declared <strong>sovereignty belongs to Allah</strong> and Pakistan would be a democratic state guided by Islamic principles; became a foundational document.</li>
                    </ul>
                `
            },
            "4": { 
                "title": "Week 4: Origin of the State & Enlightenment Thought", 
                "content": `
                    <h3 class="text-xl md:text-2xl font-semibold mt-4 mb-2 text-emerald-700">🏛️ Four Classical Theories on the Origin of the State</h3>
                    <ul class="list-disc list-inside space-y-3 ml-4">
                        <li>
                            <strong>Force Theory:</strong> State arises when one group uses coercion/conquest to dominate a population. 
                            <span class="block text-sm text-gray-500 ml-4">(Key Point: Legitimacy flows from domination.)</span>
                        </li>
                        <li>
                            <strong>Evolutionary Theory:</strong> State develops slowly and naturally out of early social units (family &rarr; clan &rarr; tribe). 
                            <span class="block text-sm text-gray-500 ml-4">(Key Point: Result of natural social evolution.)</span>
                        </li>
                        <li>
                            <strong>Divine Right Theory:</strong> Rulers are established by divine will; obedience to the ruler is obedience to God. 
                            <span class="block text-sm text-gray-500 ml-4">(Key Point: Challenge to ruler is sacrilegious.)</span>
                        </li>
                        <li>
                            <strong>Social Contract Theory:
                            </strong> State formed when individuals consent to surrender some freedoms in return for security and order. 
                            <span class="block class="text-sm text-gray-500 ml-4">(Key Point: Foundational theory for modern democracy; government by consent.)</span>
                        </li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">💡 Core Ideas of Enlightenment Political Thinkers</h3>
                    
                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">John Locke:</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Core Concept:</strong> Natural Rights (Life, Liberty, Property) &amp; Limited Government.</li>
                        <li><strong>Contribution:</strong> Government must protect rights and is legitimate only by consent of the governed (Two contracts: People-People, People-Government).</li>
                    </ul>

                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Jean-Jacques Rousseau:</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Core Concept:</strong> The General Will (Sovereignty belongs to the collective people).</li>
                        <li><strong>Contribution:</strong> Favored direct democracy and stressed that every person must protect the rights of others.</li>
                    </ul>

                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Montesquieu:</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Core Concept:</strong> Separation of Powers.</li>
                        <li><strong>Contribution:</strong> Proposed dividing authority into three branches (Legislative, Executive, Judicial) with checks-and-balances to prevent tyranny.</li>
                    </ul>

                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Thomas Hobbes (Contrasting View):</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Core Concept:</strong> Human nature is brutal and selfish (needs control).</li>
                        <li><strong>Contribution:</strong> People transfer all rights to a single Sovereign (Monarch) who is not accountable to the public (Monarchy system).</li>
                    </ul>
                `
            },
            "5": { 
                "title": "Week 5: Democracy in Pakistan", 
                "content": `
                    <h3 class="text-xl md:text-2xl font-semibold mt-4 mb-2 text-emerald-700">⚖️ Introduction: What is Democracy?</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Definition:</strong> Government where decision-making is vested in the people (right to choose leaders).</li>
                        <li><strong>Core Principles:</strong> <strong>Political Equality</strong>, <strong>Constitutionalism &amp; Rule of Law</strong>, <strong>Accountability</strong>, and <strong>Protection of Rights</strong>.</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🗳️ Types of Democratic Systems</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Direct Democracy:</strong> Citizens participate directly (e.g., referendums).</li>
                        <li><strong>Representative (Indirect) Democracy:</strong> Public chooses representatives through elections (most common).</li>
                        <li><strong>Social Democracy:</strong> Emphasis on welfare and equality (welfare state concept); political rights must be linked to social welfare for meaningful participation.</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">📜 Historical Overview: Key Phases</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Early Years (1947–56):</strong> Jinnah, Liaquat; Objectives Resolution (1949); first Constitution (1956).</li>
                        <li><strong>First Martial Law (1958–1969):</strong> Ayub Khan abrogates constitution; introduces 1962 Constitution (presidential) and <strong>Basic Democracy (BD) System</strong> (indirect election/decentralization).</li>
                        <li><strong>Bhutto Era to Zia (1970–1988):</strong> <strong>1973 Constitution</strong> (Parliamentary); 1977 Coup by General Zia-ul-Haq (military Islamization).</li>
                        <li><strong>Alternating Rule (1988–1999):</strong> Instability between PPP/PML; ended by 1999 Coup (Musharraf).</li>
                        <li><strong>Anti-Corruption Tools:</strong> PODO (Public Officer Disqualification Order) and EBDO (Elective Bodies Disqualification Order).</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">❌ Reasons for the Failure of Democracy (Concise Analysis)</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Weak Political Parties:</strong> Built around personalities/families rather than ideology or internal democracy.</li>
                        <li><strong>Absence of a Vibrant Civil Society:</strong> Independent unions and associations are weak or suppressed.</li>
                        <li><strong>Lack of Social Democracy:</strong> Political rights lack accompanying welfare, land reform, or redistribution.</li>
                        <li><strong>Elitist Politics/Oligarchy:</strong> Dominated by landlords, industrialists, and powerful families (patronage/feudalism).</li>
                        <li><strong>Bureaucratic and Military Influence:</strong> Military sees itself as the guardian of the state; repeated coups undermine elected authority.</li>
                        <li><strong>Judicialization of Politics:</strong> Courts validated extra-constitutional acts via the <strong>Doctrine of Necessity</strong>, weakening legal safeguards.</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">✅ The Future: Needs for Durable Democracy</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Constitutional Supremacy:</strong> All institutions must operate strictly within constitutional limits.</li>
                        <li><strong>Strengthening Parties:</strong> Internal democracy and meritocratic leadership.</li>
                        <li><strong>Social Democracy Measures:</strong> Land reform, progressive taxation, and better public services.</li>
                        <li><strong>Civilian Control:</strong> Clear limits on military's political role and bureaucratic accountability.</li>
                    </ul>
                `
            },
            "6": { "title": "Week 6: Governance and Politics (Mid 1 Era!)", "content": `<p class="text-xl md:text-2xl">Notes for Week 6 are pending completion.</p>` },
            "7": { 
                "title": "Week 7: Federalism in Pakistan", 
                "content": `
                    <h3 class="text-xl md:text-2xl font-semibold mt-4 mb-2 text-emerald-700">⚖️ Centralization vs. Decentralization</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Centric (Centralized):</strong> Capital has maximum authority.</li>
                        <li><strong>Decentric (Decentralized):</strong> Power is properly distributed (provinces have autonomy).</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🤝 Essential Elements of Federalism</h3>
                    
                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Division of Legislative Power:</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Federal List:</strong> Exclusive central powers (Defense, Currency).</li>
                        <li><strong>Provincial List:</strong> Exclusive provincial powers (Education, Health).</li>
                        <li><strong>18th Constitutional Amendment (2010):</strong> Abolished the Mutual/Concurrent List, transferring ~47 subjects to provinces, granting more power and autonomy.</li>
                    </ul>
                    
                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Written and Semi-Rigid Constitution:</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li>Requires a written constitution to define boundaries.</li>
                        <li>Amendable, but requires a 2/3 majority vote in both the Senate and National Assembly.</li>
                    </ul>
                    
                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Bicameralism (Two Houses):</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Upper House (Senate):</strong> Seats based on equality among provinces.</li>
                        <li><strong>Lower House (National Assembly - NA):</strong> Seats based on population.</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">💰 Financial Federalism and Budget</h3>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Budget Division:</strong> Approximately 60% to provinces, 40% to Centre (via NFC Award).</li>
                        <li><strong>Power Flow Structure (Normal):</strong> Centre &rarr; Provincial &rarr; Local Government.</li>
                        <li><strong>Power Flow Structure (During Martial Law):</strong> Centre &rarr; Local Government (bypassing provinces).</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">📍 Demands for New Provinces and Regional Conflicts</h3>
                    <p>The core issue is administrative and economic injustice from unequal resource distribution.</p>

                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Seraikistan (Southern Punjab):</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Demand:</strong> Separate province for Seraiki population; a move to revive the former Bahawalpur Province.</li>
                        <li><strong>Conflict:</strong> Opposed by Northern Punjab, Balochistan Assembly, and Sindhi Nationalists (fearing precedent).</li>
                    </ul>

                    <h4 class="text-lg md:text-xl font-medium mt-4 mb-1 text-emerald-600">Muhajir/Urban Sindh (Karachi &amp; Hyderabad):</h4>
                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Issue:</strong> Sindh's budget concentrated in urban areas.</li>
                        <li><strong>Political Action:</strong> MQM proposed new provinces (2012), vehemently opposed by Sindhi nationalists.</li>
                    </ul>

                    <ul class="list-disc list-inside space-y-2 ml-4">
                        <li><strong>Hazarawal (KPK):</strong> Demand for separate province based on linguistic differences (Hindko speakers).</li>
                        <li><strong>Afghania or Pakhtoonistan (Northern Balochistan):
                            </strong> Demand for a Pakhtun-majority province/merger with KPK.</li>
                    </ul>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">🏛️ Role of Mainstream Political Parties in Province Creation</h3>
                    <p>PML-N/PPP/PML-Q: Used the demand for Seraikistan and the restoration of Bahawalpur primarily for political leverage and election narratives, rather than achieving consensus-based constitutional change. Demands faced strong rejection in relevant provincial assemblies (e.g., MQM demands in KP Assembly).</p>

                    <h3 class="text-xl md:text-2xl font-semibold mt-6 mb-2 text-emerald-700">💡 Conclusion: The Challenge of New Provinces (Exam-Ready)</h3>
                    <p>The creation of new provinces is a highly politicized challenge to Pakistan's federation. Supporters argue it ensures equitable resource distribution and empowers ethnic identities, strengthening democracy. Opponents fear it will 'open Pandora's box' regarding representation and further instability. The consensus of all stakeholders is required for a rational solution.</p>
                `
            },
            "8": { "title": "Week 8: Post-Midterm Topics", "content": `<p class="text-xl md:text-2xl">Notes for Week 8 are pending completion. Chill bro!</p>` },
            "9": { "title": "Week 9: Post-Midterm Topics", "content": `<p class="text-xl md:text-2xl">Notes for Week 9 are pending completion. Chill bro!</p>` },
            "10": { "title": "Week 10: Post-Midterm Topics", "content": `<p class="text-xl md:text-2xl">Notes for Week 10 are pending completion. Chill bro!</p>` },
            "11": { "title": "Week 11: Post-Midterm Topics", "content": `<p class="text-xl md:text-2xl">Notes for Week 11 are pending completion. Chill bro!</p>` },
            "12": { "title": "Week 12: Post-Midterm Topics", "content": `<p class="text-xl md:text-2xl">Notes for Week 12 are pending completion. Chill bro!</p>` },
            "13": { "title": "Week 13: Post-Midterm Topics", "content": `<p class="text-xl md:text-2xl">Notes for Week 13 are pending completion. Chill bro!</p>` },
            "14": { "title": "Week 14: Final Review", "content": `<p class="text-xl md:text-2xl">Notes for Week 14 are pending completion. Chill bro!</p>` }
        };
        const TRANSITION_DURATION = 400; 
        
        // --- Dark Mode Functionality ---
        function applyTheme(isDark) {
            const body = document.body;
            const sunIcon = document.getElementById('sun-icon');
            const moonIcon = document.getElementById('moon-icon');
            const toggleButton = document.getElementById('dark-mode-toggle');

            if (isDark) {
                body.classList.add('dark-mode');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
                // Updated button colors for better contrast in dark mode
                toggleButton.classList.remove('bg-emerald-600', 'hover:bg-emerald-700');
                toggleButton.classList.add('bg-emerald-700', 'hover:bg-emerald-600'); 
            } else {
                body.classList.remove('dark-mode');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
                // Restored button colors for light mode
                toggleButton.classList.remove('bg-emerald-700', 'hover:bg-emerald-600');
                toggleButton.classList.add('bg-emerald-600', 'hover:bg-emerald-700');
            }
        }

        function toggleDarkMode() {
            const isDark = document.body.classList.contains('dark-mode');
            const newMode = !isDark;
            applyTheme(newMode);
            // Persist preference for next visit
            localStorage.setItem('darkMode', newMode ? 'enabled' : 'disabled');
        }

        function loadThemePreference() {
            const savedMode = localStorage.getItem('darkMode');
            if (savedMode === 'enabled' || (!savedMode && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                applyTheme(true);
            } else {
                applyTheme(false);
            }
        }


        // --- View Management Functions ---

        function showMessage(message) {
            const messageBox = document.getElementById('message-box');
            const messageText = document.getElementById('message-text');
            
            messageText.textContent = message;
            messageBox.classList.remove('hidden');
            messageBox.classList.add('flex');
            
            setTimeout(() => {
                messageBox.classList.remove('flex');
                messageBox.classList.add('hidden');
            }, 3000); 
        }

        function showHome() {
            const homeView = document.getElementById('home-view');
            const notesView = document.getElementById('notes-view');

            // 1. Start Notes Out transition
            notesView.classList.add('opacity-0', 'scale-[0.98]', 'translate-y-4');
            notesView.classList.remove('opacity-100', 'scale-100', 'translate-y-0');

            setTimeout(() => {
                // 2. Hide Notes, Prepare Home
                notesView.classList.add('hidden');
                notesView.classList.remove('scale-[0.98]'); 
                homeView.classList.remove('hidden');
                
                // 3. Start Home In transition
                requestAnimationFrame(() => {
                    homeView.classList.add('opacity-100', 'scale-100');
                    homeView.classList.remove('opacity-0', 'scale-[0.98]');
                });

            }, TRANSITION_DURATION);
        }

        function navigateToWeek(weekNumber) {
            const homeView = document.getElementById('home-view');
            const notesData = weeklyNotes[weekNumber];
            
            if (!notesData) {
                showMessage(`Error: Invalid week number ${weekNumber}. Data might be missing.`);
                return;
            }

            // Check for placeholder content
            const isPlaceholder = notesData.content.includes("pending completion");
            
            if (isPlaceholder) {
                let message;
                if (weekNumber == 6) {
                    message = "Mid 1 Era."; 
                } else if (weekNumber >= 8 && weekNumber <= 14) {
                    message = "Chill bro! Notes pending for this week.";
                } else {
                     message = "Notes for this week are pending completion.";
                }
                
                showMessage(message);
                return;
            }

            // 1. Start Home Out transition
            homeView.classList.add('opacity-0', 'scale-[0.98]');
            homeView.classList.remove('opacity-100', 'scale-100');

            setTimeout(() => {
                // 2. Hide Home, Prepare Notes
                homeView.classList.add('hidden');
                
                document.getElementById('notes-title').textContent = notesData.title;
                document.getElementById('notes-content-area').innerHTML = notesData.content;
                document.getElementById('notes-content-area').scrollTop = 0;
                
                const notesView = document.getElementById('notes-view');
                
                notesView.classList.remove('scale-[0.98]'); 
                notesView.classList.remove('hidden');

                // 3. Start Notes In transition
                requestAnimationFrame(() => {
                    notesView.classList.add('opacity-100', 'scale-100', 'translate-y-0');
                    notesView.classList.remove('opacity-0', 'scale-[0.9]', 'translate-y-4');
                });

            }, TRANSITION_DURATION); 
        }

        // --- Button Rendering & Search Functionality ---

        function getSubtitle(i) {
             if (i === 1) return 'The Indus Valley Civilization';
             if (i === 2) return 'Pakistani Culture and Society';
             if (i === 3) return 'The Process of Constitution Making';
             if (i === 4) return 'Origin of the State & Enlightenment Thought';
             if (i === 5) return 'Democracy in Pakistan';
             if (i === 7) return 'Federalism in Pakistan';
             return ''; 
        }

        function renderButtons(filteredKeys) {
            const container = document.getElementById('week-buttons-container');
            const noResultsMessage = document.getElementById('no-results-message');
            container.innerHTML = ''; // Clear existing buttons
            
            if (filteredKeys.length === 0) {
                noResultsMessage.classList.remove('hidden');
                return;
            } else {
                noResultsMessage.classList.add('hidden');
            }

            const gradientClasses = 'from-emerald-700 to-green-900 hover:from-emerald-800 hover:to-green-950';

            filteredKeys.forEach(i => {
                const subtitle = getSubtitle(i);

                const buttonContent = `
                    <div class="flex flex-col items-center text-center px-1">
                        <span class="text-2xl font-bold">Week ${i}</span>
                        <span class="text-xs sm:text-sm font-light -mt-1 opacity-80 leading-tight">${subtitle}</span>
                    </div>
                `;
                
                const buttonHtml = `
                    <button 
                        id="week-${i}"
                        class="
                            w-full 
                            h-24  
                            bg-gradient-to-br ${gradientClasses}
                            text-white 
                            text-xl sm:text-2xl font-semibold 
                            rounded-xl 
                            cool-glow-button 
                            focus:outline-none focus:ring-4 focus:ring-amber-400 
                            flex items-center justify-center 
                        "
                        onclick="navigateToWeek(${i})"
                    >
                        ${buttonContent}
                    </button>
                `;
                container.innerHTML += buttonHtml;
            });
        }
        
        function handleSearch() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const weekKeys = Object.keys(weeklyNotes).map(key => parseInt(key)).sort((a, b) => a - b);
            
            if (!query) {
                renderButtons(weekKeys);
                return;
            }

            const filteredKeys = weekKeys.filter(i => {
                const notes = weeklyNotes[i];
                const title = notes.title.toLowerCase();
                const content = notes.content.toLowerCase();
                
                // Search by keyword in title or content
                if (title.includes(query) || content.includes(query)) {
                    return true;
                }
                
                // Search by number alone
                if (String(i).includes(query)) {
                    return true;
                }
                
                return false;
            });
            
            renderButtons(filteredKeys);
        }

        // --- Initialization ---
        window.onload = function() {
            loadThemePreference(); // Check for dark mode preference
            const allKeys = Object.keys(weeklyNotes).map(key => parseInt(key)).sort((a, b) => a - b);
            renderButtons(allKeys); // Render all buttons initially
        };
    </script>
    
</body>
</html>
